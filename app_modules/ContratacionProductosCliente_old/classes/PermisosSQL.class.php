<?php  /**  * @package IPSOFT-SIIS  * @version $Id: ContratacionProductosSQL.class.php,  * @copyright (C) 2009 IPSOFT - SA (www.ipsoft-sa.com)  * @author Mauricio Adrian Medina Santacruz  */   /**  * Clase : ContratacionProductosSQL  *   *    * @package IPSOFT-SIIS  * @version $Revision: 1.12 $  * @copyright (C) 2009 IPSOFT - SA (www.ipsoft-sa.com)  * @author Mauricio Adrian Medina Santacruz  */   class PermisosSQL extends ConexionBD  {      /*      * Constructor de la clase      */      function PermisosSQL(){}      /**      * Funcion donde se verifica el permiso del usuario para el ingreso al modulo      * @return array $datos vector que contiene la informacion de la consulta del codigo de      * la empresa y la razon social      */      function ObtenerPermisos()      {       //$this->debug = true;        $sql  = "SELECT   p.empresa_id AS empresa, ";        $sql .= "         p.razon_social AS razon_social, ";        $sql .= "         cp.sw_nivelacceso as ssiid, ";        $sql .= "         cp.consulta as consulta ";        $sql .= "FROM     userpermisos_contratacionproductoscliente cp,						  empresas p ";        $sql .= "WHERE    cp.usuario_id = ".UserGetUID()." ";        $sql .= "         AND cp.empresa_id = p.empresa_id						  AND sw_tipo_empresa='0' ";        if(!$rst = $this->ConexionBaseDatos($sql))        return false;        $datos = array();        while(!$rst->EOF)        {        $datos[$rst->fields[1]] = $rst->GetRowAssoc($ToUpper = false);        $rst->MoveNext();        }        $rst->Close();        return $datos;      }      	   	}?>